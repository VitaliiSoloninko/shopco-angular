<div class="order-card">
  <div class="order-header">
    <div class="order-info">
      <h3 class="order-number">{{ order().orderNumber }}</h3>
      <span class="order-date">{{ order().createdAt | date : "medium" }}</span>
    </div>
    <app-order-status-badge [status]="order().status" />
  </div>

  <div class="order-body">
    <div class="order-items">
      @for (item of order().items; track item.id) {
      <div class="order-item">
        <img [src]="getImageUrl(item.productImage)" [alt]="item.productName" />
        <div class="item-details">
          <p class="item-name">{{ item.productName }}</p>
          <p class="item-meta">
            Quantity: {{ item.quantity }} | Size: {{ item.selectedSize }}
          </p>
        </div>
        <p class="item-price">${{ item.subtotal.toFixed(2) }}</p>
      </div>
      }
    </div>

    <div class="order-summary">
      <div class="summary-row">
        <span>Subtotal:</span>
        <span>${{ order().subtotal.toFixed(2) }}</span>
      </div>
      <div class="summary-row">
        <span>Shipping:</span>
        <span>${{ order().shippingCost.toFixed(2) }}</span>
      </div>
      <div class="summary-row">
        <span>Tax:</span>
        <span>${{ order().tax.toFixed(2) }}</span>
      </div>
      <div class="summary-row total">
        <span>Total:</span>
        <span>${{ order().totalAmount.toFixed(2) }}</span>
      </div>
    </div>
  </div>
</div>
